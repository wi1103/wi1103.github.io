<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Parse test</title>
  <meta name="viewport" content="width=device-width, user-scalable=no">
  <meta http-equiv="Content-Security-Policy" content="default-src *; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
  <link rel="stylesheet" href="//ezoui.com/css/normalize.css">
  <link rel="stylesheet" href="//ezoui.com/gk/lib/jquery.mobile/1.4.5/jquery.mobile-1.4.5.min.css">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="//code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
  <!-- Uncomment the following to include cordova in your app project -->
  <!-- <script src="//ezoui.com/platforms/android_or_ios/cordova.js"></script> -->
  <!-- Export JS  -->
  <script>
    (function (document, $) {

      $(document).on('pageinit', '#home', function () {
        loadJS('http://www.parsecdn.com/js/parse-1.3.0.min.js', function () {

          Parse.initialize("KtnILWxOs3VGTOBOxU2CjoEwdDkFuExC4T6hwNJs", "oui9tcTxMwMcsQ1RNVh2xcL9qfCrJe6fRmyPqCi7");

          var Data = Parse.Object.extend("Data"),
              query = new Parse.Query(Data);

          query.equalTo("name", "孫小美");
          query.find({
            success: function (results) {
              console.log("Successfully retrieved " + results.length + " scores.");
               // Do something with the returned Parse.Object values
              for (var i = 0; i < results.length; i++) {
                    var object = results[i];
                console.log(object.id + ' - ' + object.get('name'));
              }
            },
            error: function (error) {
              alert("Error: " + error.code + " " + error.message);
            }
          });

          function create() {
            var name = document.getElementById("UserName");
            var tel = document.getElementById("tel");
            Data.set("name",name);
            Data.set("tel",tel);
            Data.save(null, {
              success: function(gameScore) {
                // Execute any logic that should take place after the object is saved.
                alert('New object created with objectId: ' + gameScore.id);
              },
              error: function(gameScore, error) {
                // Execute any logic that should take place if the save fails.
                // error is a Parse.Error with an error code and description.
                alert('Failed to create new object, with error code: ' + error.description);
              }
            });
          }


        });
      });

      function loadJS(src, callback) {
        var head = document.getElementsByTagName("head")[0],
          script = document.createElement('script');
        script.src = src;
        script.onload = callback;
        script.onerror = function (e) {
          alert("failed: " + JSON.stringify(e));
        };
        head.appendChild(script);
        head.removeChild(script);
      }

    }(document, jQuery));
  </script>
</head>

<body>
  <!-- Page: home  -->
  <div id="home" data-role="page">
    <div role="main" class="ui-content"></div>
  </div>
  <div>
      <form action="test.php" method="post">
        姓名：<input type="text" name="UserName"><br>
        電話：<input type="text" name="tel"><br>
　       <input type="submit" value="Create" onclick="create()">
      </form>
  </div>

</body>

</html>

